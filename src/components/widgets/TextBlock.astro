---
/**
 * TextBlock: Responsive section for displaying rich text with badge and title.
 * Supports line breaks and bold text via HTML content.
 */
interface Props {
  /**
   * Badge text above the section title.
   */
  badge: string;
  /**
   * Section heading.
   */
  title: string;
  /**
   * HTML content for the text body. Supports <strong>, <br>, <p>, etc.
   */
  content: string;
  /**
   * Color theme: light (white), dark, or grey.
   */
  theme?: "light" | "dark" | "grey";
}

const { badge, title, content, theme = "light" } = Astro.props;

const isDark = theme === "dark";
const isGrey = theme === "grey";

const sectionBgClass = isDark
  ? "bg-dark-bg"
  : isGrey
    ? "bg-slate-100"
    : "bg-white";

const titleClass = isDark ? "text-white" : "text-dark";
const textClass = isDark ? "text-white/80" : "text-dark/70";
---

{/* TextBlock: Section with badge, title and rich text content */}
<section class:list={["relative overflow-hidden", sectionBgClass]}>
  <div class="mx-auto max-w-7xl px-6 py-12 md:px-12 md:py-20 lg:px-16 lg:py-24 min-[1920px]:max-w-8xl">
    {/* Section header: badge, title */}
    <div class="fade-in-section mb-8 md:mb-12">
      <div class="mb-4 inline-block rounded-tl-xl rounded-br-xl bg-gradient-to-r from-primary to-primary-light px-3 py-1 md:mb-6">
        <h3 class="font-outfit text-sm uppercase tracking-wider text-white leading-[1.3] md:text-base">
          {badge}
        </h3>
      </div>
      <h2
        class:list={[
          "font-anton text-3xl leading-tight md:text-4xl lg:text-5xl",
          titleClass,
        ]}
      >
        {title}
      </h2>
    </div>

    {/* Rich text content: supports <strong>, <br>, <p>, etc. */}
    <div
      class:list={[
        "fade-in-section delay-200 font-outfit text-base font-light leading-relaxed md:text-lg [&_p]:mb-4 [&_p:last-child]:mb-0 [&_strong]:font-semibold [&_strong]:text-dark",
        textClass,
        isDark && "[&_strong]:text-white",
      ]}
      set:html={content}
    />
  </div>
</section>
