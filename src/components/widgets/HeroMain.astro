---
import Button from "../ui/Button.astro";
import { imageProvider } from "../../provider/imageProvider";
import {
  getLangFromUrl,
  useTranslations,
  useTranslatedPath,
} from "../../i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const translatePath = useTranslatedPath(lang);
---

{/* HeroMain: Full-width hero for homepage with background image */}
<section
  class="relative flex min-h-screen flex-col justify-center bg-dark-bg bg-cover bg-center bg-no-repeat"
  style={{
    backgroundImage: `url('${typeof imageProvider.hero.headerBackground.src === "object" ? imageProvider.hero.headerBackground.src.src : imageProvider.hero.headerBackground.src}')`,
  }}
>
  <div
    class="absolute inset-0 bg-gradient-to-r from-black/67 to-black/32 opacity-75"
  >
  </div>

  {/* Content container */}
  <div
    class="relative z-10 mx-auto flex w-full max-w-7xl flex-col justify-center px-6 py-16 md:px-12 md:py-24 lg:px-16 lg:py-32"
  >
    {/* Title: main heading */}
    <div class="max-w-4xl animate-fade-in mb-6 md:mb-8">
      <h1
        class="mb-0 font-anton text-4xl font-medium leading-tight text-white md:text-5xl lg:text-6xl xl:text-7xl"
      >
        <b>{t("hero.title")}</b>
      </h1>
    </div>

    {/* Subtitle: supporting text */}
    <div class="animate-fade-in mb-8 md:mb-10">
      <h4
        class="font-outfit text-base font-light leading-relaxed text-white md:text-lg lg:text-xl"
      >
        {t("hero.subtitle")}
      </h4>
    </div>

    {/* CTA button */}
    <div class="animate-fade-in-up">
      <Button href={translatePath("/anfrage/")}>{t("hero.cta")}</Button>
    </div>
  </div>
</section>
